include "src/main.tachyon";
var x = NT.Complex.fromRect(3, 2);
var y = NT.Complex.fromRect(2, 4);
var tests = [
    ["neg", x.neg(), "-3+-2i"],
    ["add", x.add(y), "5+6i"],
    ["sub", x.sub(y), "1+-2i"],
    ["mul", x.mul(y), "-2+16i"],
    ["div", x.div(y), "0.7+-0.4i"],
    ["eq", x.eq(y), "0"],
    ["ne", x.ne(y), "1"],
    ["abs", x.abs(), "3.60555"],
    ["arg", x.arg(), "0.588003"],
    ["norm", x.norm(), "13"],
    ["conj", x.conj(), "3+-2i"],
    ["exp", x.exp(), "-8.35853+18.2637i"],
    ["log", x.log(),  "1.28247+0.588003i"],
    ["pow", x.pow(y), "1.23699+0.0281075i"],
    ["sqrt", x.sqrt(), "1.81735+0.550251i"],
    ["cbrt", x.cbrt(), " .50405+0.298628i"],
    ["sin", x.sin(), "0.530921+-3.59056i"],
    ["cos", x.cos(), "-3.72454+-0.511823i"],
    ["tan", x.tan(), "-0.00988438+0.965386i"],
    ["asin", x.asin(), "0.964659+1.96864i"],
    ["acos", x.acos(), "0.606138+-1.96864i"],
    ["atan", x.atan(), "1.33897+0.146947i"],
    ["sinh", x.sinh(), "-4.16891+9.1545i"],
    ["cosh", x.cosh(), "-4.18963+9.10923i"],
    ["tanh", x.tanh(), "1.00324+0.00376403i"],
    ["asinh", x.asinh(), "1.98339+0.570653i"],
    ["acosh", x.acosh(), "1.96864+0.606138i"],
    ["atanh", x.atanh(), "0.229073+1.40992i"]
];
var successes = 0;
for(var i = 0; i < VectorUtils.size(tests); i++) {
    var testName = tests[i][0];
    var expected = tests[i][2];
    var actual = StringUtils.repr(tests[i][1]);
    if(StringUtils.eq(expected, actual)) {
        print("test ");
        print(testName);
        print(" succeeded with value ");
        println(actual);
        successes++;
    } else {
        print("test ");
        print(testName);
        print(" failed with value ");
        println(actual);
    }
}

print(successes);
print("/");
print(VectorUtils.size(tests));
print(" ");
println("tests passed");